<?php get_header() ?>

<p class="center"><?php _e('404 Space Invadors destroyed this page! Take revenge on them!' , 'corsorr') ?>
  <br/><?php _e(' Use ' , 'corsorr') ?><span class="label label-danger"><?php _e(' Space ' , 'corsorr') ?></span><?php _e(' to shoot and ' , 'corsorr') ?><span class="label label-danger">←</span>&#160;<span class="label label-danger">→</span><?php _e(' to move! ' , 'corsorr') ?>&#160;&#160;&#160;<button class="btn btn-default btn-xs" id="restart"><?php _e('Restart' , 'corsorr') ?></button></p>

<canvas id="space-invaders"/>



<style>
.center{text-align:center}#space-invaders{margin:0 auto;display:block;width:100%}.center{color:#fff;position:absolute;width:100%}    
</style>


<script>
!function(){"use strict";var t,i,e,s,o,n,h,r,a,d=20,c=250,l=0,f=0,v=c,u=[[3,4,8,9,10,15,16],[2,4,7,11,14,16],[1,4,7,11,13,16],[1,2,3,4,5,7,11,13,14,15,16,17],[4,7,11,16],[4,8,9,10,16]],w=function(){this.level=-1,this.lost=!1,this.player=new p,this.invaders=[],this.invaderShots=[],void 0===a&&(a=setInterval(function(){for(l=0;l<s.invaders.length;l++)s.invaders[l].move()},1e3-1.8*this.level))};w.prototype={update:function(){if(0===s.invaders.length){if((v+=1)<c)return;this.level+=1,h-=.002,r+=10,s.invaders=function(){var t=[],i=u.length*n;for(;i--;)for(var e=E(i),s=0;s<e.length;s++)t.push(new y({x:e[s]*d,y:i*d}));return t}(),v=0}if(!this.lost)for(s.player.projectile.forEach(function(t){s.invaders.forEach(function(i){z(t,i)&&(i.destroy(),t.active=!1)})}),this.invaderShots.forEach(function(t){z(t,s.player)&&s.player.destroy()}),l=0;l<s.invaders.length;l++)s.invaders[l].update();for(s.player.update(),l=0;l<s.invaderShots.length;l++)s.invaderShots[l].update();this.invaders=s.invaders.filter(function(t){return t.active})},draw:function(){var t;if(this.lost?(i.fillStyle="rgba(0, 0, 0, 0.03)",i.fillRect(0,0,e.width,e.height),i.font="55px Lucida Console",i.textAlign="center",i.fillStyle="white",i.fillText("You lost",e.width/2,e.height/2),i.font="20px Lucida Console",i.fillText("Points: "+f,e.width/2,e.height/2+30)):(i.clearRect(0,0,e.width,e.height),i.font="10px Lucida Console",i.textAlign="right",i.fillText("Points: "+f,e.width,e.height-12)),i.beginPath(),this.player.draw(),!this.lost)for(t=0;t<this.invaders.length;t++)this.invaders[t].draw();for(t=0;t<this.invaderShots.length;t++)this.invaderShots[t].draw();i.fill()},invadersBelow:function(t){return this.invaders.filter(function(i){return 0===Math.abs(t.coordinates.x-i.coordinates.x)&&i.coordinates.y>t.coordinates.y}).length>0}};var y=function(t){this.active=!0,this.coordinates=t,this.size={width:d,height:d},this.patrolX=0,this.speedX=r};y.prototype={update:function(){if(Math.random()>h&&!s.invadersBelow(this)){var t=new g({x:this.coordinates.x+this.size.width/2,y:this.coordinates.y+this.size.height-5},{x:0,y:2});s.invaderShots.push(t)}},draw:function(){this.active&&i.drawImage(o,this.coordinates.x,this.coordinates.y)},move:function(){this.patrolX<0||this.patrolX>100?(this.speedX=-this.speedX,this.patrolX+=this.speedX,this.coordinates.y+=this.size.height,this.coordinates.y+2*this.size.height>e.height&&(s.lost=!0)):(this.coordinates.x+=this.speedX,this.patrolX+=this.speedX)},destroy:function(){this.active=!1,f+=1}};var p=function(){this.active=!0,this.size={width:16,height:8},this.shooterHeat=-3,this.coordinates={x:e.width/2-this.size.width/2|0,y:e.height-2*this.size.height},this.projectile=[],this.keyboarder=new x};p.prototype={update:function(){for(var t=0;t<this.projectile.length;t++)this.projectile[t].update();if(this.projectile=this.projectile.filter(function(t){return t.active}),this.active)if(this.keyboarder.isDown(this.keyboarder.KEYS.LEFT)&&this.coordinates.x>0?this.coordinates.x-=2:this.keyboarder.isDown(this.keyboarder.KEYS.RIGHT)&&this.coordinates.x<e.width-this.size.width&&(this.coordinates.x+=2),this.keyboarder.isDown(this.keyboarder.KEYS.Space))if(this.shooterHeat+=1,this.shooterHeat<0){var i=new g({x:this.coordinates.x+this.size.width/2-1,y:this.coordinates.y-1},{x:0,y:-7});this.projectile.push(i)}else this.shooterHeat>12&&(this.shooterHeat=-3);else this.shooterHeat=-3},draw:function(){this.active&&(i.rect(this.coordinates.x,this.coordinates.y,this.size.width,this.size.height),i.rect(this.coordinates.x-2,this.coordinates.y+2,20,6),i.rect(this.coordinates.x+6,this.coordinates.y-4,4,4));for(var t=0;t<this.projectile.length;t++)this.projectile[t].draw()},destroy:function(){this.active=!1,s.lost=!0}};var g=function(t,i){this.active=!0,this.coordinates=t,this.size={width:3,height:3},this.velocity=i};g.prototype={update:function(){this.coordinates.x+=this.velocity.x,this.coordinates.y+=this.velocity.y,(this.coordinates.y>e.height||this.coordinates.y<0)&&(this.active=!1)},draw:function(){this.active&&i.rect(this.coordinates.x,this.coordinates.y,this.size.width,this.size.height)}};var x=function(){this.KEYS={LEFT:37,RIGHT:39,Space:32};var t,i=[37,39,32],e={};window.addEventListener("keydown",function(s){for(t=0;t<i.length;t++)i[t]==s.keyCode&&(e[s.keyCode]=!0,s.preventDefault())}),window.addEventListener("keyup",function(s){for(t=0;t<i.length;t++)i[t]==s.keyCode&&(e[s.keyCode]=!1,s.preventDefault())}),this.isDown=function(t){return!0===e[t]}};function z(t,i){return t.coordinates.x<i.coordinates.x+i.size.width&&t.coordinates.x+t.size.width>i.coordinates.x&&t.coordinates.y<i.coordinates.y+i.size.height&&t.coordinates.y+t.size.height>i.coordinates.y}function E(t){var i=[],e=0,s=Math.floor(t/n);if(s>=u.length)return[];for(var o=0;o<u[s].length;o++){for(var h=u[s][o]*n,r=0;r<n;r++)i[e+r]=h+r;e+=n}return i}function S(){window.innerWidth>1200?(i.canvas.width=1200,i.canvas.height=500,e={width:1200,height:500},n=3,420):window.innerWidth>800?(i.canvas.width=900,i.canvas.height=600,e={width:900,height:600},n=2,280):(i.canvas.width=600,i.canvas.height=300,e={width:600,height:300},n=1,140),f=0,h=.999,r=20,v=c,s=new w}function k(){s.update(),s.draw(),requestAnimationFrame(k)}window.addEventListener("load",function(){var e=new Image;e.onload=function(){(o=document.createElement("canvas")).width=d,o.height=d,o.getContext("2d").drawImage(e,0,0),t=document.getElementById("space-invaders"),i=t.getContext("2d"),S(),k()},e.src="//stillh.art/project/spaceInvaders/invader.gif"}),window.addEventListener("resize",function(){S()}),document.getElementById("restart").addEventListener("click",function(){S()})}();
</script>


<?php get_footer();